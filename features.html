<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SPEC Site</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="header" class="header-placeholder"></div>
  <script src="header.js" defer></script>
  <main>
    <div class="content">
      <h1>Features and How to Use Them</h1>

<p>
  This section documents the features implemented or updated by our team during the project
  sprints. These features include automated flow analysis, quality detection, camera
  optimization tools, and system-level sanity checks. Each feature includes
  what it does, how to use it, the results it produces, and how it connects to
  other components in the software.
</p>

<hr>

<h2>1. Run PIV (One-Shot PIV Pipeline)</h2>

<p>
  <strong>Run PIV</strong> executes a complete single pass of the PIV pipeline.
  It was one of the major features built by our team. When activated, it
  collects camera data, evaluates frame quality using our machine learning
  model, and produces full PIV results.
</p>

<h3>How to Use</h3>
<ul>
  <li>Go to the <strong>PIV Functions</strong> page.</li>
  <li>Click <strong>Run PIV</strong>.</li>
</ul>

<h3>What Run PIV Does</h3>
<ol>
  <li>Captures raw camera frames.</li>
  <li>Applies our <strong>ML blur-detection model</strong> to each frame:
    <ul>
      <li>estimates blur level,</li>
      <li>outputs confidence score,</li>
      <li>determines if quality is acceptable.</li>
    </ul>
  </li>
  <li>Performs all PIV preprocessing (cropping, filtering, normalization).</li>
  <li>Runs FFT-based PIV to compute velocity vectors.</li>
  <li>Generates:
    <ul>
      <li>PNG heatmaps,</li>
      <li>vector field images,</li>
      <li>statistics files.</li>
    </ul>
  </li>
  <li>Updates the <strong>Data Visualization</strong> page with the results.</li>
</ol>

<h3>How This Feature Links to Others</h3>
<ul>
  <li>The ML blur/quality score determines whether Auto PIV will run
      successfully.</li>
  <li>All generated outputs feed directly into the visualization dashboard.</li>
  <li>Camera optimization and sanity check tools improve the inputs used by
      this function.</li>
</ul>

<hr>

<h2>2. Start Auto PIV (Continuous Automated Loop)</h2>

<p>
  <strong>Start Auto PIV</strong> creates an automated loop that repeatedly
  triggers the Run PIV process. Our team built the logic for quality-driven
  looping based on ML predictions.
</p>

<h3>How to Use</h3>
<ul>
  <li>Go to <strong>PIV Functions</strong>.</li>
  <li>Click <strong>Start Auto PIV</strong>.</li>
</ul>

<h3>What Auto PIV Does</h3>
<ul>
  <li>Collects new frames at regular intervals.</li>
  <li>Uses the ML quality model (blur + confidence score) to evaluate each
      batch.</li>
  <li>If the quality score is above threshold:
    <ul>
      <li>Run PIV is activated,</li>
      <li>new results are generated,</li>
      <li>visualizations are updated.</li>
    </ul>
  </li>
  <li>If quality drops below threshold:
    <ul>
      <li>Auto PIV pauses automatically,</li>
      <li>the user is notified,</li>
      <li>no invalid data is processed.</li>
    </ul>
  </li>
</ul>

<h3>How Auto PIV Links to Other Features</h3>
<ul>
  <li>Auto PIV depends directly on the <strong>Run PIV</strong> pipeline.</li>
  <li>QualityDetection determines whether each loop iteration will run.</li>
  <li>Camera Optimization tools help increase ML confidence scores.</li>
</ul>

<hr>

<h2>3. Stop Auto PIV</h2>

<p>
  <strong>Stop Auto PIV</strong> immediately halts the continuous loop. This
  allows users to interrupt processing at any time.
</p>

<h3>How to Use</h3>
<ul>
  <li>Click <strong>Stop Auto PIV</strong> at any moment during Auto PIV.</li>
</ul>

<h3>Results / Interactions</h3>
<ul>
  <li>Looping ends instantly.</li>
  <li>No additional PIV runs are triggered.</li>
  <li>The most recent results remain available on the visualization page.</li>
</ul>

<hr>

<h2>4. Machine Learning Quality Detection Model</h2>

<p>
  One of our team’s primary contributions was building a machine learning model
  capable of determining frame quality before PIV execution. This prevents bad
  data from entering the pipeline.
</p>

<h3>Outputs of the Quality Model</h3>
<ul>
  <li><strong>Blur score</strong> (numerical estimate of sharpness)</li>
  <li><strong>Confidence score</strong> (certainty of prediction)</li>
  <li><strong>Pass/fail decision</strong> for triggering Run PIV</li>
</ul>

<h3>How It Links to Other Features</h3>
<ul>
  <li>Directly controls whether Auto PIV continues looping.</li>
  <li>Ensures Run PIV only executes on high-quality frames.</li>
  <li>Improves reliability of all PIV results.</li>
</ul>

<hr>

<h2>5. QualityDetection Module</h2>

<p>
  The <strong>QualityDetection.py</strong> module is a standalone component
  created for evaluating every captured frame. It integrates our machine
  learning model and performs additional metrics such as the goodness score used
  to determine processing quality.
</p>

<h3>Responsibilities</h3>
<ul>
  <li>Loads ML model.</li>
  <li>Runs blur/confidence analysis on each incoming frame.</li>
  <li>Computes a “goodness metric.”</li>
  <li>Returns decision values used by Auto PIV and Run PIV.</li>
</ul>

<hr>

<h2>6. Camera Optimization Tools</h2>

<p>
  The <strong>camera optimization utilities</strong> help the system determine
  the best camera settings and improve ML predictions before running PIV.</p>

<h3>What These Tools Do</h3>
<ul>
  <li>Test lighting and exposure consistency.</li>
  <li>Adjust camera parameters to reduce blur.</li>
  <li>Provide feedback that increases ML confidence scores.</li>
</ul>

<hr>

<h2>7. Sanity Check Module</h2>

<p>
  The <strong>Sanity Check</strong> feature validates that all system components
  are working before executing PIV tasks.</p>

<h3>The Sanity Check Verifies</h3>
<ul>
  <li>Camera is connected and producing frames.</li>
  <li>ML models are loaded correctly.</li>
  <li>Paths for saving PNGs and statistics exist.</li>
  <li>FFT/PIV libraries are functional.</li>
</ul>

<h3>How It Links to Other Features</h3>
<ul>
  <li>Prevents errors before running Run PIV.</li>
  <li>Ensures Auto PIV loops do not crash mid-run.</li>
</ul>

<hr>

<h2>Summary</h2>
<ul>
  <li><strong>Run PIV</strong>: one-shot pipeline using ML-driven quality
      validation.</li>
  <li><strong>Start Auto PIV</strong>: continuous loop controlled by quality
      predictions.</li>
  <li><strong>Stop Auto PIV</strong>: ends looping immediately.</li>
  <li><strong>ML Model + QualityDetection</strong>: ensures only valid frames
      are processed.</li>
  <li><strong>Camera Optimization</strong>: improves image quality and ML
      confidence.</li>
  <li><strong>Sanity Check</strong>: verifies system readiness.</li>
</ul>

    </div>
  </main>
</body>
</html>
